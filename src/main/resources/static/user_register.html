<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户注册 - 智慧停车场</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- 自定义CSS -->
    <link href="css/user_styles.css" rel="stylesheet">
</head>
<body class="bg-light">
    <!-- 顶部导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="user_index.html">
                <i class="fas fa-parking me-2"></i>智慧停车场
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="user_index.html">首页</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="user_index.html#services">服务介绍</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="user_index.html#pricing">收费标准</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="user_index.html#contact">联系我们</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- 注册页面内容 -->
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card shadow-sm">
                    <div class="card-body p-4">
                        <div class="text-center mb-4">
                            <i class="fas fa-user-plus fa-3x text-primary"></i>
                            <h3 class="mt-3">用户注册</h3>
                            <p class="text-muted">创建您的智慧停车场账号</p>
                        </div>
                        
                        <form id="registerForm">
                            <!-- 表单步骤指示器 -->
                            <div class="registration-steps mb-4">
                                <div class="step active" id="step1Indicator">
                                    <div class="step-number">1</div>
                                    <div class="step-title">基本信息</div>
                                </div>
                                <div class="step-connector"></div>
                                <div class="step" id="step2Indicator">
                                    <div class="step-number">2</div>
                                    <div class="step-title">车辆信息</div>
                                </div>
                                <div class="step-connector"></div>
                                <div class="step" id="step3Indicator">
                                    <div class="step-number">3</div>
                                    <div class="step-title">确认信息</div>
                                </div>
                            </div>
                            
                            <!-- 步骤1: 基本信息 -->
                            <div class="form-step" id="step1">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="username" class="form-label">用户名</label>
                                        <input type="text" class="form-control" id="username" placeholder="请设置您的用户名" required>
                                        <div class="form-text">用户名长度为5-20个字符，只能包含字母、数字和下划线</div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="phone" class="form-label">手机号码</label>
                                        <input type="tel" class="form-control" id="phone" placeholder="请输入您的手机号码" required>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="email" class="form-label">电子邮箱</label>
                                    <input type="email" class="form-control" id="email" placeholder="请输入您的电子邮箱" required>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="password" class="form-label">密码</label>
                                        <div class="input-group">
                                            <input type="password" class="form-control" id="password" placeholder="请设置您的密码" required>
                                            <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                        <div class="form-text">密码长度至少8位，包含字母和数字</div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="confirmPassword" class="form-label">确认密码</label>
                                        <div class="input-group">
                                            <input type="password" class="form-control" id="confirmPassword" placeholder="请再次输入密码" required>
                                            <button class="btn btn-outline-secondary" type="button" id="toggleConfirmPassword">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="realName" class="form-label">真实姓名</label>
                                        <input type="text" class="form-control" id="realName" placeholder="请输入您的真实姓名">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="idNumber" class="form-label">身份证号码</label>
                                        <input type="text" class="form-control" id="idNumber" placeholder="选填，用于实名认证">
                                        <div class="form-text">实名认证后可使用更多高级功能</div>
                                    </div>
                                </div>
                                
                                <div class="d-flex justify-content-end mt-4">
                                    <button type="button" class="btn btn-primary" id="goToStep2">下一步</button>
                                </div>
                            </div>
                            
                            <!-- 步骤2: 车辆信息 -->
                            <div class="form-step" id="step2" style="display: none;">
                                <div class="alert alert-info mb-4">
                                    <i class="fas fa-info-circle me-2"></i>
                                    添加您的车辆信息，以便使用自动识别等智能服务
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="licensePlate" class="form-label">车牌号码</label>
                                        <input type="text" class="form-control" id="licensePlate" placeholder="例如：京A12345" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="vehicleType" class="form-label">车辆类型</label>
                                        <select class="form-select" id="vehicleType" required>
                                            <option value="" selected disabled>请选择车辆类型</option>
                                            <option value="sedan">轿车</option>
                                            <option value="suv">SUV</option>
                                            <option value="truck">卡车/货车</option>
                                            <option value="new-energy">新能源车</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="vehicleBrand" class="form-label">车辆品牌</label>
                                        <select class="form-select" id="vehicleBrand">
                                            <option value="" selected disabled>请选择品牌</option>
                                            <option value="audi">奥迪</option>
                                            <option value="bmw">宝马</option>
                                            <option value="benz">奔驰</option>
                                            <option value="toyota">丰田</option>
                                            <option value="honda">本田</option>
                                            <option value="volkswagen">大众</option>
                                            <option value="ford">福特</option>
                                            <option value="buick">别克</option>
                                            <option value="chevrolet">雪佛兰</option>
                                            <option value="nissan">日产</option>
                                            <option value="hyundai">现代</option>
                                            <option value="kia">起亚</option>
                                            <option value="byd">比亚迪</option>
                                            <option value="tesla">特斯拉</option>
                                            <option value="other">其他</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="vehicleModel" class="form-label">车辆型号</label>
                                        <input type="text" class="form-control" id="vehicleModel" placeholder="例如：卡罗拉">
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="vehicleColor" class="form-label">车辆颜色</label>
                                        <select class="form-select" id="vehicleColor">
                                            <option value="" selected disabled>请选择颜色</option>
                                            <option value="white">白色</option>
                                            <option value="black">黑色</option>
                                            <option value="silver">银色</option>
                                            <option value="gray">灰色</option>
                                            <option value="red">红色</option>
                                            <option value="blue">蓝色</option>
                                            <option value="green">绿色</option>
                                            <option value="yellow">黄色</option>
                                            <option value="brown">棕色</option>
                                            <option value="other">其他</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="vehicleYear" class="form-label">车辆年份</label>
                                        <input type="number" class="form-control" id="vehicleYear" placeholder="例如：2022">
                                    </div>
                                </div>
                                
                                <div class="form-check mb-4">
                                    <input class="form-check-input" type="checkbox" id="addMoreVehicles">
                                    <label class="form-check-label" for="addMoreVehicles">
                                        我有多辆车需要添加
                                    </label>
                                </div>
                                
                                <div id="additionalVehicleInfo" style="display: none;">
                                    <div class="alert alert-secondary">
                                        注册成功后，您可以在个人中心添加更多车辆信息
                                    </div>
                                </div>
                                
                                <div class="d-flex justify-content-between mt-4">
                                    <button type="button" class="btn btn-outline-secondary" id="backToStep1">返回上一步</button>
                                    <button type="button" class="btn btn-primary" id="goToStep3">下一步</button>
                                </div>
                            </div>
                            
                            <!-- 步骤3: 确认信息 -->
                            <div class="form-step" id="step3" style="display: none;">
                                <div class="alert alert-success mb-4">
                                    <i class="fas fa-check-circle me-2"></i>
                                    请确认您的信息无误
                                </div>
                                
                                <div class="card mb-4">
                                    <div class="card-header">
                                        <h5 class="mb-0">账号信息</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row mb-2">
                                            <div class="col-sm-4"><strong>用户名:</strong></div>
                                            <div class="col-sm-8" id="confirmUsername"></div>
                                        </div>
                                        <div class="row mb-2">
                                            <div class="col-sm-4"><strong>手机号码:</strong></div>
                                            <div class="col-sm-8" id="confirmPhone"></div>
                                        </div>
                                        <div class="row mb-2">
                                            <div class="col-sm-4"><strong>电子邮箱:</strong></div>
                                            <div class="col-sm-8" id="confirmEmail"></div>
                                        </div>
                                        <div class="row mb-2">
                                            <div class="col-sm-4"><strong>真实姓名:</strong></div>
                                            <div class="col-sm-8" id="confirmRealName"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="card mb-4">
                                    <div class="card-header">
                                        <h5 class="mb-0">车辆信息</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row mb-2">
                                            <div class="col-sm-4"><strong>车牌号码:</strong></div>
                                            <div class="col-sm-8" id="confirmLicensePlate"></div>
                                        </div>
                                        <div class="row mb-2">
                                            <div class="col-sm-4"><strong>车辆类型:</strong></div>
                                            <div class="col-sm-8" id="confirmVehicleType"></div>
                                        </div>
                                        <div class="row mb-2">
                                            <div class="col-sm-4"><strong>品牌型号:</strong></div>
                                            <div class="col-sm-8" id="confirmVehicleModel"></div>
                                        </div>
                                        <div class="row mb-2">
                                            <div class="col-sm-4"><strong>车辆颜色:</strong></div>
                                            <div class="col-sm-8" id="confirmVehicleColor"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="form-check mb-4">
                                    <input class="form-check-input" type="checkbox" id="agreeTerms" required>
                                    <label class="form-check-label" for="agreeTerms">
                                        我已阅读并同意 <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">《用户服务协议》</a> 和 <a href="#" data-bs-toggle="modal" data-bs-target="#privacyModal">《隐私政策》</a>
                                    </label>
                                </div>
                                
                                <div class="d-flex justify-content-between mt-4">
                                    <button type="button" class="btn btn-outline-secondary" id="backToStep2">返回上一步</button>
                                    <button type="submit" class="btn btn-success" id="submitRegistration">完成注册</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                
                <div class="text-center mt-4">
                    <p>已有账号? <a href="user_login.html" class="text-decoration-none">立即登录</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- 服务条款模态框 -->
    <div class="modal fade" id="termsModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">用户服务协议</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h5>智慧停车场用户服务协议</h5>
                    <p>最后更新日期：2025年4月1日</p>
                    
                    <p>欢迎使用智慧停车场服务！</p>
                    
                    <p>本协议是您与智慧停车场管理系统（以下简称"我们"）之间就智慧停车场服务的使用等相关事宜所订立的契约。请您仔细阅读本协议，特别是免责条款、隐私政策、争议解决和司法管辖条款，以及其他以粗体标注的重要条款。您点击"同意"按钮或者实际使用我们的服务，即表示您已阅读并同意本协议的全部条款。</p>
                    
                    <h6>1. 服务内容</h6>
                    <p>1.1 智慧停车场服务是指我们通过互联网技术向您提供的车辆入场、停车位查询、自动计费、在线支付等一系列停车管理服务。</p>
                    <p>1.2 我们有权随时变更、中断或终止部分或全部的服务，但会尽量提前通知您。</p>
                    
                    <h6>2. 用户账户</h6>
                    <p>2.1 您需要注册成为智慧停车场用户才能使用部分服务。</p>
                    <p>2.2 您应对账户安全负责，并对您账户下的所有活动承担责任。</p>
                    <p>2.3 您提供的个人信息应当真实、准确、完整，并在信息变更时及时更新。</p>
                    
                    <h6>3. 用户行为规范</h6>
                    <p>3.1 您应遵守中华人民共和国法律法规，不得利用我们的服务从事违法违规活动。</p>
                    <p>3.2 您不得干扰我们的正常运营，不得未经授权访问我们的系统或数据。</p>
                    
                    <h6>4. 收费标准</h6>
                    <p>4.1 我们的部分服务可能需要收费，具体收费标准请参见服务页面公示。</p>
                    <p>4.2 我们有权调整收费标准，调整前会提前通知您。</p>
                    
                    <h6>5. 责任限制</h6>
                    <p>5.1 我们将尽力确保服务的安全、稳定运行，但不能保证服务不中断或无瑕疵。</p>
                    <p>5.2 对于因系统维护、网络故障、黑客攻击等不可抗力因素导致的服务中断或数据丢失，我们不承担责任。</p>
                    
                    <p>本协议的最终解释权归智慧停车场管理系统所有。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">我已阅读并同意</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 隐私政策模态框 -->
    <div class="modal fade" id="privacyModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">隐私政策</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h5>智慧停车场隐私政策</h5>
                    <p>最后更新日期：2025年4月1日</p>
                    
                    <p>我们非常重视您的隐私保护，本政策将帮助您了解我们如何收集、使用和保护您的个人信息。</p>
                    
                    <h6>1. 信息收集</h6>
                    <p>1.1 当您注册账户时，我们会收集您的姓名、手机号码、电子邮箱等信息。</p>
                    <p>1.2 当您使用我们的服务时，我们会收集您的车牌号码、车辆信息、停车记录等信息。</p>
                    <p>1.3 我们还可能收集您的设备信息、位置信息和日志信息。</p>
                    
                    <h6>2. 信息使用</h6>
                    <p>2.1 我们收集的信息将用于提供、维护和改进我们的服务。</p>
                    <p>2.2 我们可能会使用您的联系方式向您发送服务通知和营销信息。</p>
                    <p>2.3 我们可能会对用户数据进行分析，以优化我们的服务和用户体验。</p>
                    
                    <h6>3. 信息共享</h6>
                    <p>3.1 除非得到您的明确授权，我们不会与第三方共享您的个人信息。</p>
                    <p>3.2 在法律要求的情况下，我们可能会披露您的信息。</p>
                    
                    <h6>4. 信息安全</h6>
                    <p>4.1 我们采取多种技术和管理措施保护您的信息安全。</p>
                    <p>4.2 但请注意，互联网环境并非百分之百安全，我们无法保证您的信息绝对安全。</p>
                    
                    <h6>5. 您的权利</h6>
                    <p>5.1 您有权访问、修改和删除您的个人信息。</p>
                    <p>5.2 您有权要求我们停止处理您的个人信息。</p>
                    
                    <p>本政策的最终解释权归智慧停车场管理系统所有。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">我已阅读并同意</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 注册成功提示模态框 -->
    <div class="modal fade" id="registerSuccessModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">注册成功</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <i class="fas fa-check-circle text-success fa-4x mb-3"></i>
                    <h4>恭喜您！</h4>
                    <p>您已成功注册智慧停车场账号。现在您可以享受我们的全部服务了！</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary" id="goToLogin">去登录</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 页脚 -->
    <footer class="py-3 bg-dark text-white text-center mt-5">
        <div class="container">
            <p class="mb-0">© 2025 智慧停车场. 保留所有权利.</p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 自定义JS -->
    <script src="js/user_common.js"></script>
    <script src="js/user_register.js"></script>
</body>
</html>